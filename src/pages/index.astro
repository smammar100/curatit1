---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import FeaturedImageCard from '@/components/FeaturedImageCard.astro';
import Badge from '@/components/ui/Badge.astro';
import { getImagesByCollection, getCollections } from '@/lib/data';

const featuredImages = getImagesByCollection("featured");
const collections = getCollections();
const [firstImage, ...restImages] = featuredImages;
---

<Layout title="ACME Gallery - Home">
  <Header />
  
  <div class="contents md:grid md:grid-cols-12 md:gap-6">
    <!-- Sidebar -->
    <aside class="max-md:hidden col-span-4 h-screen sticky top-0 p-6 pt-20 md:pt-36 flex flex-col justify-between">
      <div>
        <p class="italic tracking-tighter text-base">
          Curated. Beautiful. Inspiring.
        </p>
        <div class="mt-5 text-base leading-tight">
          <p>Photography that speaks to the soul.</p>
          <p>Captured moments, shared stories.</p>
          <p>Beauty in every frame.</p>
        </div>
      </div>
      
      <div>
        <h4 class="font-extrabold text-lg md:text-xl">Browse</h4>
        <ul class="flex flex-col gap-1.5 leading-5 mt-5">
          {collections.map((collection) => (
            <li>
              <a href={`/gallery/${collection.handle}`} class="hover:underline">
                {collection.title}
              </a>
            </li>
          ))}
        </ul>
      </div>
    </aside>
    
    <!-- Main Content -->
    <div class="col-span-8 flex flex-col md:grid grid-cols-2 w-full relative">
      <div class="fixed top-0 left-0 w-full grid grid-cols-12 gap-6 py-6 pointer-events-none z-10">
        <div class="col-start-5 col-span-8">
          <div class="px-6 hidden lg:block">
            <Badge variant="outline-secondary">featured gallery</Badge>
          </div>
        </div>
      </div>
      
      {featuredImages.length > 0 && (
        <>
          {firstImage && (
            <FeaturedImageCard
              class="col-span-2"
              image={firstImage}
              featured={true}
            />
          )}
          {restImages.map((image) => (
            <FeaturedImageCard
              class="col-span-1"
              image={image}
            />
          ))}
        </>
      )}
    </div>
  </div>
  
  <footer class="p-6">
    <div class="w-full h-[532px] p-11 text-white bg-gray-900 rounded-[12px] flex flex-col justify-between">
      <div class="flex justify-between">
        <svg
          width="292"
          height="61"
          viewBox="0 0 292 61"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="basis-3/4 max-w-[1200px] h-auto block"
        >
          <path
            d="M0 58.9432L20.7844 1.29902H35.3984L56.1828 58.9432H43.3549L39.1331 46.6837H16.9685L12.7467 58.9432H0ZM20.4596 36.535H35.7232L28.0914 14.2893L20.4596 36.535Z"
            fill="currentColor"
          />
          <path
            d="M82.7703 60.2422C67.0196 60.2422 55.7343 49.0381 55.7343 30.2023C55.7343 11.8536 66.3701 0 83.0138 0C98.115 0 106.234 7.71295 108.67 21.4339L95.8417 21.921C94.5427 14.6952 90.1585 10.3922 83.0138 10.3922C73.8395 10.3922 68.481 18.1863 68.481 30.2023C68.481 42.3806 74.083 49.85 82.9326 49.85C90.6456 49.85 94.8674 45.2223 96.0041 37.4281L108.913 37.9153C106.559 51.9609 97.7902 60.2422 82.7703 60.2422Z"
            fill="currentColor"
          />
          <path
            d="M115.054 58.9432V1.29902H131.535L146.23 43.2737L160.844 1.29902H177.326V58.9432H164.985V21.5963L151.426 58.7808H140.872L127.394 21.5963V58.9432H115.054Z"
            fill="currentColor"
          />
          <path
            d="M186.205 58.9432V1.29902H226.312V11.6912H198.546V24.925H225.338V35.1548H198.546V48.551H226.962V58.9432H186.205Z"
            fill="currentColor"
          />
          <path
            d="M262.041 59.9175C245.479 59.9175 232.083 46.5213 232.083 29.8775C232.083 13.3962 245.479 0 262.041 0C278.604 0 292 13.3962 292 29.8775C292 46.5213 278.604 59.9175 262.041 59.9175ZM262.041 52.4481C274.138 52.4481 284.368 42.4618 284.368 29.8775C284.368 17.4556 274.138 7.46939 262.041 7.46939C249.944 7.46939 239.714 17.4556 239.714 29.8775C239.714 42.4618 249.944 52.4481 262.041 52.4481ZM262.366 46.2777C252.867 46.2777 246.372 39.6202 246.372 29.8775C246.372 20.2161 252.867 13.6397 262.366 13.6397C270.566 13.6397 276.736 18.8358 277.467 26.3864L268.78 26.7924C268.212 22.9765 265.695 20.7032 262.366 20.7032C257.982 20.7032 255.059 24.1943 255.059 29.8775C255.059 35.642 257.982 39.1331 262.366 39.1331C265.938 39.1331 268.455 36.8598 268.942 32.7192L277.711 33.0439C276.98 40.8381 270.81 46.2777 262.366 46.2777Z"
            fill="currentColor"
          />
        </svg>
        
        <div class="text-right">
          <h4 class="font-extrabold text-lg md:text-xl">Browse</h4>
          <ul class="flex flex-col gap-1.5 leading-5 mt-5">
            <li><a href="/gallery/nature" class="hover:underline">Nature</a></li>
            <li><a href="/gallery/architecture" class="hover:underline">Architecture</a></li>
            <li><a href="/gallery/abstract" class="hover:underline">Abstract</a></li>
            <li><a href="/gallery/urban" class="hover:underline">Urban</a></li>
            <li><a href="/gallery/portrait" class="hover:underline">Portrait</a></li>
          </ul>
        </div>
      </div>
      
      <div class="flex justify-between text-gray-400">
        <ul class="flex flex-row gap-2 justify-between max-w-[450px] w-full">
          <li><a href="https://maps.app.goo.gl/MnpbPDEHxoDydc9M9" target="_blank" class="text-sm 2xl:text-base leading-tight transition-colors hover:underline ease-out duration-200 whitespace-nowrap hover:text-white">37°47'33.4"N 122°24'18.6"W</a></li>
          <li><a href="https://joyco.studio/showcase" target="_blank" class="text-sm 2xl:text-base leading-tight transition-colors hover:underline ease-out duration-200 whitespace-nowrap hover:text-white">(269) 682-1402</a></li>
          <li><a href="https://www.instagram.com/joyco.studio/" target="_blank" class="text-sm 2xl:text-base leading-tight transition-colors hover:underline ease-out duration-200 whitespace-nowrap hover:text-white">Instagram</a></li>
        </ul>
        <p class="text-base">
          {new Date().getFullYear()}© — All rights reserved
        </p>
      </div>
    </div>
  </footer>
</Layout>